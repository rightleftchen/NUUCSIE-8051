#include <reg51.h>
void delay10ms(int count);
void display();

  char scanline[]={0xf8,0xf9,0xfa,0xfb,0xfc,0xfd,0xfe,0xff};//left to right seven segement
	char temp;
	int empty;
	int useline,useline_2;
	char temp_display[11][8]={
  {0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x79},
  {0x06,0x00,0x00,0x00,0x00,0x00,0x41,0x38},
	{0x06,0x00,0x00,0x00,0x00,0x01,0x48,0x30},
  {0x06,0x00,0x00,0x00,0x01,0x40,0x08,0x30},
	{0x06,0x00,0x00,0x01,0x40,0x00,0x08,0x30},
	{0x06,0x00,0x01,0x40,0x00,0x08,0x00,0x30},
	{0x06,0x01,0x40,0x00,0x08,0x00,0x00,0x30},
	{0x07,0x40,0x00,0x08,0x00,0x00,0x00,0x30},	
  {0x47,0x00,0x08,0x00,0x00,0x00,0x00,0x30},
	{0x47,0x08,0x00,0x00,0x00,0x00,0x00,0x30},	
  {0x4f,0x00,0x00,0x00,0x00,0x00,0x00,0x30}
	};
	
void main()
{
	while(1)
	{			
		
		for(empty=0;empty<100;empty++){
			display();
		}
	}
}
void display()
{
	for(useline=0;useline<11;useline++)//let the scanline scan two segment 
	{
		for(useline_2=0;useline_2<8;++useline_2){
		P1=0xff;
		P2=temp_display[useline][useline_2];
		P1=scanline[useline_2];
		delay10ms(10);
		}
	}
	
}

void delay10ms(int count)
{
	int i,j;
	for(i=0;i<count;i++)
	for(j=0;j<50;j++); 
}
